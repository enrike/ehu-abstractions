#N canvas 2 50 450 300 10;
#X obj 358 718 vline~;
#X obj 897 467 pack 0 f, f 27;
#X msg 358 624 1 \$2 \, \$4 \$3 \$2;
#X obj 358 591 pack 0 f f f, f 32;
#X text 694 31 ADSR envelope;
#X text 545 543 Sustain (0. \, 1.);
#X obj 358 763 outlet~;
#X obj 175 767 outlet~;
#X text 355 785 Envelope output (signal);
#X text 368 269 [1 \$2 \, \$4 \$3 \$2];
#X text 369 295 Go to 1 in \$2 (attack) ms \, go to \$4 (sustain) in
\$3 (decay) ms after having waited \$2 (attack duration) ms, f 31
;
#X text 369 244 ADS stages;
#X text 901 489 Release stage (go to 0 in (release) ms);
#X obj 175 715 vline~;
#X text 83 642 On note on \, go to 1 in 1.5 ms, f 11;
#X text 81 698 On note off \, go to 0 in 1.5 ms, f 12;
#X text 82 617 Gate mode;
#X text 170 787 Gate output (signal);
#X msg 175 646 0 1.5;
#X msg 221 646 1 1.5, f 13;
#X msg 706 636 0 1.5;
#X text 865 620 That prevents getting the tail of the release when
switching from gate to envelope mode, f 44;
#X obj 331 130 sel 0;
#X obj 358 184 bang;
#X text 372 105 Receives note on and off;
#X obj 331 106 inlet;
#X text 421 434 Attack (1.5 \, 3000.);
#X text 483 487 Decay (1.5 \, 12000.);
#X text 1055 402 Release (1.5 \, 12000.);
#X obj 146 112 r \$0-note-portamento;
#X obj 422 452 r \$0-106-env-attack;
#X obj 486 510 r \$0-106-env-decay;
#X obj 547 563 r \$0-106-env-sustain;
#X obj 708 610 r \$0-106-gate-to-env;
#X obj 1056 425 r \$0-106-env-release;
#X obj 897 427 r \$0-106-allnoteoff;
#X obj 964 179 inlet;
#X obj 958 218 route attack decay sustain release;
#X connect 0 0 6 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 13 0 7 0;
#X connect 18 0 13 0;
#X connect 19 0 13 0;
#X connect 20 0 0 0;
#X connect 22 0 1 0;
#X connect 22 0 18 0;
#X connect 22 1 23 0;
#X connect 23 0 3 0;
#X connect 23 0 19 0;
#X connect 25 0 22 0;
#X connect 30 0 3 1;
#X connect 31 0 3 2;
#X connect 32 0 3 3;
#X connect 33 0 20 0;
#X connect 34 0 1 1;
#X connect 35 0 1 0;
#X connect 36 0 37 0;
#X connect 37 0 3 1;
#X connect 37 1 3 2;
#X connect 37 2 3 3;
#X connect 37 3 1 1;
