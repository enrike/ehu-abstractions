#N canvas 0 50 1230 826 10;
#X obj 449 105 route threshold ratio response gain rmspeak lookahead
;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-curve 100 float 0;
#X coords 0 1 99 0 200 130 2 0 0;
#X restore 103 116 graph;
#X floatatom 308 116 5 -100 0 3 Thresh #0-rthreshUI #0-sthreshUI;
#X floatatom 309 151 5 0 100 3 Ratio #0-rratioUI #0-sratioUI;
#X floatatom 351 116 5 0 0 3 Response #0-rrespUI #0-srespUI;
#X floatatom 309 221 5 0 500 3 Lookahead #0-rlookUI #0-slookUI;
#X obj 309 186 hradio 15 1 0 2 \$0-srmsUI \$0-rrmsUI RMS/Peak 0 24
0 10 -262144 -1 -1 0;
#X floatatom 352 151 5 0 0 3 Gain #0-rgainUI #0-sgainUI;
#X obj 449 264 s \$0-rthreshUI;
#X obj 69 324 r \$0-sthreshUI;
#X msg 69 346 threshold \$1;
#X obj 170 324 r \$0-sratioUI;
#X msg 170 346 ratio \$1;
#X obj 258 325 r \$0-srespUI;
#X msg 258 347 response \$1;
#X obj 344 326 r \$0-sgainUI;
#X msg 344 348 gain \$1;
#X obj 430 326 r \$0-slookUI;
#X msg 430 348 lookahead \$1;
#X obj 525 326 r \$0-srmsUI;
#X msg 525 348 rmspeak \$1;
#X obj 500 245 s \$0-rratioUI;
#X obj 554 224 s \$0-rrespUI;
#X obj 606 201 s \$0-rgainUI;
#X obj 659 176 s \$0-rrmsUI;
#X obj 712 153 s \$0-rlookUI;
#X obj 449 59 inlet;
#X msg 449 127 set \$1;
#X msg 500 127 set \$1;
#X msg 554 127 set \$1;
#X msg 606 128 set \$1;
#X msg 712 126 set \$1;
#X msg 659 128 set \$1;
#X obj 369 221 bng 15 250 50 0 \$0-sdump \$0-rdump Get 0 23 0 10 -262144
-1 -1;
#X obj 615 325 r \$0-sdump;
#X msg 615 347 dump;
#X obj 615 369 symbol;
#N canvas 401 182 833 653 calculateGraph 0;
#X obj 95 406 -;
#X obj 95 454 *;
#X obj 95 507 +;
#X obj 95 546 /;
#X obj 75 597 *;
#X obj 75 626 tabwrite \$0-curve;
#X obj 76 363 t f f f;
#X obj 76 271 f;
#X obj 110 271 + 1;
#X obj 76 239 until;
#X msg 76 216 100;
#X msg 121 240 0;
#X obj 161 291 r \$0-sthreshUI;
#X obj 267 290 r \$0-sratioUI;
#X obj 76 325 / 100;
#X obj 76 293 t f f;
#X obj 174 511 t f;
#X obj 161 333 dbtorms;
#X obj 161 311 + 100;
#X obj 268 346 /;
#X obj 268 315 swap 1;
#X obj 76 186 t b b;
#X obj 76 33 r \$0-sthreshUI;
#X obj 179 33 r \$0-sratioUI;
#X obj 76 155 del 50;
#X obj 271 33 r \$0-rthreshUI;
#X obj 364 34 r \$0-rratioUI;
#X obj 364 56 route set;
#X obj 271 53 route set;
#X obj 95 569 clip 0 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 29 0;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 6 1 0 0;
#X connect 6 2 3 1;
#X connect 7 0 8 0;
#X connect 7 0 15 0;
#X connect 8 0 7 1;
#X connect 9 0 7 0;
#X connect 10 0 9 0;
#X connect 11 0 7 1;
#X connect 12 0 18 0;
#X connect 13 0 20 0;
#X connect 14 0 6 0;
#X connect 15 0 14 0;
#X connect 15 1 16 0;
#X connect 16 0 5 1;
#X connect 17 0 0 1;
#X connect 17 0 2 1;
#X connect 18 0 17 0;
#X connect 19 0 1 1;
#X connect 20 0 19 0;
#X connect 20 1 19 1;
#X connect 21 0 10 0;
#X connect 21 1 11 0;
#X connect 22 0 24 0;
#X connect 23 0 24 0;
#X connect 24 0 21 0;
#X connect 25 0 28 0;
#X connect 26 0 27 0;
#X connect 27 0 20 0;
#X connect 27 0 24 0;
#X connect 28 0 18 0;
#X connect 28 0 24 0;
#X connect 29 0 4 1;
#X restore 105 276 pd calculateGraph;
#X obj -119 673 outlet~;
#X obj -119 539 *~;
#X obj -119 647 *~;
#N canvas 0 22 450 300 delWrite 0;
#X obj 68 80 delwrite~ \$0-comp 500;
#X obj 68 39 inlet~;
#X obj 68 156 outlet~;
#X connect 1 0 0 0;
#X restore -266 322 pd delWrite;
#X obj -104 499 lop~;
#X obj -104 444 clip~ 0 1;
#X obj -104 622 line~;
#X obj -104 601 pack f 5;
#X obj -104 577 r \$0-gain;
#N canvas 0 22 872 621 rms 0;
#X obj 257 107 env~ 512;
#X obj 257 245 -~;
#X obj 257 293 *~;
#X obj 257 345 +~;
#X obj 257 385 /~;
#X obj 378 221 +~ 0;
#X obj 272 220 r \$0-thresh;
#X obj 272 318 r \$0-thresh;
#X obj 272 269 r \$0-ratio;
#X obj 257 34 inlet~;
#X obj 257 407 outlet~;
#X obj 373 37 inlet;
#X obj 373 59 switch~;
#X obj 257 135 dbtorms~;
#X text 221 74 Input;
#X text 231 136 RMS;
#X text 424 59 turn DSP on/off for this sub-patch;
#X connect 0 0 13 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 6 0 1 1;
#X connect 7 0 3 1;
#X connect 8 0 2 1;
#X connect 9 0 0 0;
#X connect 11 0 12 0;
#X connect 13 0 1 0;
#X connect 13 0 5 0;
#X restore -104 321 pd rms;
#N canvas 0 22 859 606 peak 0;
#X obj 244 134 abs~;
#X obj 244 243 -~;
#X obj 244 291 *~;
#X obj 244 343 +~;
#X obj 244 383 /~;
#X obj 365 219 +~ 0;
#X obj 259 218 r \$0-thresh;
#X obj 259 316 r \$0-thresh;
#X obj 259 267 r \$0-ratio;
#X obj 244 49 inlet~;
#X obj 244 405 outlet~;
#X obj 470 125 inlet;
#X obj 470 147 switch~;
#X text 206 99 Input;
#X text 208 135 Peak;
#X text 521 148 turn DSP on/off for this sub-patch;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 6 0 1 1;
#X connect 7 0 3 1;
#X connect 8 0 2 1;
#X connect 9 0 0 0;
#X connect 11 0 12 0;
#X restore -56 321 pd peak;
#X obj -71 263 == 0;
#X obj -71 218 t f f;
#X obj -266 65 inlet~;
#X obj -71 194 r \$0-rmspeak;
#X obj -209 374 r \$0-lookahead;
#X obj -83 477 r \$0-response;
#N canvas 0 22 450 300 delRead 0;
#X obj 68 41 inlet~;
#X obj 133 155 outlet~;
#X obj 133 42 inlet lookAhead;
#X obj 133 116 delread~ \$0-comp 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore -266 398 pd delRead;
#X text -222 65 Input;
#X text -326 320 delwrite~;
#X text -300 353 dymmy;
#X text -301 365 cable;
#X text -320 398 delread~;
#X text -210 353 Lookahead in ms;
#X text -37 442 Clip signal;
#X text -73 498 Attack/release using LPF;
#X text -94 538 Gain Control;
#X text -58 344 Gain computation;
#X text -58 358 RMS/Peak;
#X text -41 577 Make-up gain;
#X text -32 218 RMS/Peak;
#X text -32 231 selector;
#X obj 541 35 r \$0-dump;
#N canvas 368 180 728 661 dump 0;
#X obj 124 52 inlet;
#X obj 125 625 outlet;
#X msg 187 486 threshold \$1;
#X msg 239 436 ratio \$1;
#X msg 294 385 response \$1;
#X msg 344 336 gain \$1;
#X msg 397 284 rmspeak \$1;
#X msg 449 235 lookahead \$1;
#X obj 187 141 route threshold ratio response gain rmspeak lookahead
;
#X obj 166 509 list;
#X obj 218 460 list;
#X obj 273 409 list;
#X obj 323 359 list;
#X obj 376 304 list;
#X obj 428 257 list;
#X obj 585 219 t b b b b b b;
#X obj 502 171 sel dump;
#X obj 428 548 list trim;
#X connect 0 0 1 0;
#X connect 0 0 8 0;
#X connect 2 0 9 1;
#X connect 3 0 10 1;
#X connect 4 0 11 1;
#X connect 5 0 12 1;
#X connect 6 0 13 1;
#X connect 7 0 14 1;
#X connect 8 0 2 0;
#X connect 8 1 3 0;
#X connect 8 2 4 0;
#X connect 8 3 5 0;
#X connect 8 4 6 0;
#X connect 8 5 7 0;
#X connect 8 6 16 0;
#X connect 9 0 17 0;
#X connect 10 0 17 0;
#X connect 11 0 17 0;
#X connect 12 0 17 0;
#X connect 13 0 17 0;
#X connect 14 0 17 0;
#X connect 15 0 9 0;
#X connect 15 1 10 0;
#X connect 15 2 11 0;
#X connect 15 3 12 0;
#X connect 15 4 13 0;
#X connect 15 5 14 0;
#X connect 16 0 15 0;
#X connect 17 0 1 0;
#X restore 541 57 pd dump;
#X text 538 78 Dump/send controls;
#X obj 172 708 dbtorms;
#X obj 224 679 /;
#X obj 224 648 swap 1;
#X obj 277 655 /;
#X obj 277 633 swap 1000;
#X obj 172 730 s \$0-thresh;
#X obj 224 701 s \$0-ratio;
#X obj 329 612 s \$0-gain;
#X obj 382 586 s \$0-rmspeak;
#X obj 434 562 s \$0-lookahead;
#X obj 172 538 route threshold ratio response gain rmspeak lookahead
;
#X obj 415 407 loadbang;
#X obj 172 485 t a a;
#X obj 199 513 s \$0-dump;
#X obj 172 673 + 100;
#X obj 329 566 + 100;
#X obj 329 588 dbtorms;
#X obj 277 677 s \$0-response;
#X msg 415 436 threshold -2 \, ratio 2 \, response 40 \, gain 0 \,
rmspeak 0 \, lookahead 0;
#X text 472 409 initialise controls;
#X text 229 496 send controls to UI;
#X text 170 752 Convert dB FS;
#X text 170 763 to Pd dB scale;
#X text 169 775 and then linear;
#X text 167 789 amplitude.;
#X text 252 718 inverse of ratio;
#X text 328 695 convert ms to frequency;
#X text 348 631 convert dBFS scale to Pd dB scale;
#X text 398 605 RMS/peak selection;
#X text 472 579 lookahead value in ms;
#X text 448 521 route incoming data;
#X text -60 30 Varun Nair;
#X text -60 43 2013;
#X text -59 56 re-sounding.com;
#X text -58 69 @ntkeep;
#X connect 0 0 27 0;
#X connect 0 1 28 0;
#X connect 0 2 29 0;
#X connect 0 3 30 0;
#X connect 0 4 32 0;
#X connect 0 5 31 0;
#X connect 9 0 10 0;
#X connect 10 0 85 0;
#X connect 11 0 12 0;
#X connect 12 0 85 0;
#X connect 13 0 14 0;
#X connect 14 0 85 0;
#X connect 15 0 16 0;
#X connect 16 0 85 0;
#X connect 17 0 18 0;
#X connect 18 0 85 0;
#X connect 19 0 20 0;
#X connect 20 0 85 0;
#X connect 26 0 0 0;
#X connect 27 0 8 0;
#X connect 28 0 21 0;
#X connect 29 0 22 0;
#X connect 30 0 23 0;
#X connect 31 0 25 0;
#X connect 32 0 24 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 36 0 85 0;
#X connect 39 0 40 0;
#X connect 40 0 38 0;
#X connect 41 0 55 0;
#X connect 42 0 39 1;
#X connect 43 0 42 0;
#X connect 44 0 40 1;
#X connect 45 0 44 0;
#X connect 46 0 45 0;
#X connect 47 0 43 0;
#X connect 48 0 43 0;
#X connect 49 0 47 1;
#X connect 50 0 49 0;
#X connect 50 1 48 1;
#X connect 51 0 41 0;
#X connect 51 0 47 0;
#X connect 51 0 48 0;
#X connect 52 0 50 0;
#X connect 53 0 55 1;
#X connect 54 0 42 1;
#X connect 55 0 39 0;
#X connect 70 0 71 0;
#X connect 71 0 0 0;
#X connect 73 0 78 0;
#X connect 74 0 79 0;
#X connect 75 0 74 0;
#X connect 75 1 74 1;
#X connect 76 0 90 0;
#X connect 77 0 76 0;
#X connect 77 1 76 1;
#X connect 83 0 87 0;
#X connect 83 1 75 0;
#X connect 83 2 77 0;
#X connect 83 3 88 0;
#X connect 83 4 81 0;
#X connect 83 5 82 0;
#X connect 84 0 91 0;
#X connect 85 0 83 0;
#X connect 85 1 86 0;
#X connect 87 0 73 0;
#X connect 88 0 89 0;
#X connect 89 0 80 0;
#X connect 91 0 85 0;
#X coords 0 -1 1 1 300 150 2 100 100;
